{"version":3,"file":"index.js","sources":["src/index.js"],"sourcesContent":["/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright Â© 2015-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport { stringifyRequest } from 'loader-utils'\n\nmodule.exports = function loader() {}\nmodule.exports.pitch = function pitch(request) {\n  if (this.cacheable) {\n    this.cacheable()\n  }\n\n  const insertCss = require.resolve('./insertCss.js')\n  return `\n    var refs = 0;\n    var css = require(${stringifyRequest(this, `!!${request}`)});\n    if(css.default) {\n      css = css.default\n    }\n    var insertCss = require(${stringifyRequest(this, `!${insertCss}`)});\n    var content = [[module.id, css, '']];\n\n    //lift locals up\n    if(typeof css === 'object' && typeof css.locals === 'object') {\n      Object.keys(css.locals).forEach((k) => {\n        if(k.indexOf('-') === -1) {\n          css[k] = css.locals[k]\n        }\n      })\n    }\n\n    exports = module.exports = css || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(${stringifyRequest(this, `!!${request}`)}, function() {\n        css = require(${stringifyRequest(this, `!!${request}`)});\n        if(css.default) {\n          css = css.default\n        }\n        content = [[module.id, css, '']];\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  `\n}\n"],"names":["module","exports","loader","pitch","request","cacheable","insertCss","require","resolve","stringifyRequest"],"mappings":";;;;;;AAWAA,MAAM,CAACC,OAAP,GAAiB,SAASC,MAAT,GAAkB,EAAnC;;AACAF,MAAM,CAACC,OAAP,CAAeE,KAAf,GAAuB,SAASA,KAAT,CAAeC,OAAf,EAAwB;AAC7C,MAAI,KAAKC,SAAT,EAAoB;AAClB,SAAKA,SAAL;AACD;;AAED,MAAMC,SAAS,GAAGC,OAAO,CAACC,OAAR,CAAgB,gBAAhB,CAAlB;;AACA,yDAEsBC,4BAAgB,CAAC,IAAD,SAAYL,OAAZ,CAFtC,+FAM4BK,4BAAgB,CAAC,IAAD,QAAWH,SAAX,CAN5C,6yBA4BwBG,4BAAgB,CAAC,IAAD,SAAYL,OAAZ,CA5BxC,8CA6BsBK,4BAAgB,CAAC,IAAD,SAAYL,OAAZ,CA7BtC;AAuCD,CA7CD"}