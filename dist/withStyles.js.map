{"version":3,"file":"withStyles.js","sources":["src/withStyles.js"],"sourcesContent":["/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright Â© 2015-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport hoistStatics from 'hoist-non-react-statics'\n\nimport StyleContext from './StyleContext'\n\nfunction withStyles(...styles) {\n  return function wrapWithStyles(ComposedComponent) {\n    class WithStyles extends React.PureComponent {\n      constructor(props, context) {\n        super(props, context)\n        this.removeCss = context.insertCss(...styles)\n      }\n\n      componentWillUnmount() {\n        if (this.removeCss) {\n          setTimeout(this.removeCss, 0)\n        }\n      }\n\n      render() {\n        const { __$$withStylesRef, ...props } = this.props\n        return <ComposedComponent ref={__$$withStylesRef} {...props} />\n      }\n    }\n\n    const displayName = ComposedComponent.displayName || ComposedComponent.name || 'Component'\n\n    WithStyles.propTypes = {\n      __$$withStylesRef: PropTypes.func,\n    }\n    WithStyles.defaultProps = {\n      __$$withStylesRef: undefined,\n    }\n    WithStyles.contextType = StyleContext\n\n    const ForwardedWithStyles = React.forwardRef((props, ref) => (\n      <WithStyles {...props} __$$withStylesRef={ref} />\n    ))\n\n    ForwardedWithStyles.ComposedComponent = ComposedComponent\n    ForwardedWithStyles.displayName = `WithStyles(${displayName})`\n\n    return hoistStatics(ForwardedWithStyles, ComposedComponent)\n  }\n}\n\nexport default withStyles\n"],"names":["withStyles","styles","wrapWithStyles","ComposedComponent","WithStyles","props","context","removeCss","insertCss","componentWillUnmount","setTimeout","render","__$$withStylesRef","React","PureComponent","displayName","name","propTypes","PropTypes","func","defaultProps","undefined","contextType","StyleContext","ForwardedWithStyles","forwardRef","ref","hoistStatics"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,SAASA,UAAT,GAA+B;AAAA,oCAARC,MAAQ;AAARA,IAAAA,MAAQ;AAAA;;AAC7B,SAAO,SAASC,cAAT,CAAwBC,iBAAxB,EAA2C;AAAA,QAC1CC,UAD0C;AAAA;;AAE9C,0BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAC1B,gDAAMD,KAAN,EAAaC,OAAb;AACA,cAAKC,SAAL,GAAiBD,OAAO,CAACE,SAAR,OAAAF,OAAO,EAAcL,MAAd,CAAxB;AAF0B;AAG3B;;AAL6C;;AAAA,aAO9CQ,oBAP8C,GAO9C,gCAAuB;AACrB,YAAI,KAAKF,SAAT,EAAoB;AAClBG,UAAAA,UAAU,CAAC,KAAKH,SAAN,EAAiB,CAAjB,CAAV;AACD;AACF,OAX6C;;AAAA,aAa9CI,MAb8C,GAa9C,kBAAS;AACP,0BAAwC,KAAKN,KAA7C;AAAA,YAAQO,iBAAR,eAAQA,iBAAR;AAAA,YAA8BP,KAA9B;;AACA,eAAO,oBAAC,iBAAD;AAAmB,UAAA,GAAG,EAAEO;AAAxB,WAA+CP,KAA/C,EAAP;AACD,OAhB6C;;AAAA;AAAA,MACvBQ,KAAK,CAACC,aADiB;;AAmBhD,QAAMC,WAAW,GAAGZ,iBAAiB,CAACY,WAAlB,IAAiCZ,iBAAiB,CAACa,IAAnD,IAA2D,WAA/E;AAEAZ,IAAAA,UAAU,CAACa,SAAX,GAAuB;AACrBL,MAAAA,iBAAiB,EAAEM,SAAS,CAACC;AADR,KAAvB;AAGAf,IAAAA,UAAU,CAACgB,YAAX,GAA0B;AACxBR,MAAAA,iBAAiB,EAAES;AADK,KAA1B;AAGAjB,IAAAA,UAAU,CAACkB,WAAX,GAAyBC,YAAzB;AAEA,QAAMC,mBAAmB,GAAGX,KAAK,CAACY,UAAN,CAAiB,UAACpB,KAAD,EAAQqB,GAAR;AAAA,aAC3C,oBAAC,UAAD,eAAgBrB,KAAhB;AAAuB,QAAA,iBAAiB,EAAEqB;AAA1C,SAD2C;AAAA,KAAjB,CAA5B;AAIAF,IAAAA,mBAAmB,CAACrB,iBAApB,GAAwCA,iBAAxC;AACAqB,IAAAA,mBAAmB,CAACT,WAApB,mBAAgDA,WAAhD;AAEA,WAAOY,YAAY,CAACH,mBAAD,EAAsBrB,iBAAtB,CAAnB;AACD,GArCD;AAsCD;;;;"}